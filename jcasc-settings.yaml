rbac:
  readSecrets: true
master:
  initScripts:
    - |
      System.setProperty('org.apache.commons.jelly.tags.fmt.timeZone', 'America/Argentina/Buenos_Aires')
  JCasC:
    defaultConfig: false
    configScripts:
      jenkins-settings: |
        jenkins:
          crumbIssuer:
            standard:
              excludeClientIPFromCrumb: true
          globalNodeProperties:
          - envVars:
              env:
              - key: "GITHUB_URL"
                value: "https://github.com/jcontti"
        jobs:
        - script: >
            folder('devops') {
                displayName('Devops')
                description('Folder for Devops utils')
            }
        - script: >
            folder('devops/docker-images') {
                displayName('Docker images')
                description('Folder for Docker images')
            }
        - script: >
            pipelineJob('devops/docker-images/jenkins-lighthouse') {
              environmentVariables {
                keepBuildVariables(true)
                keepSystemVariables(true)
              }
              definition {
                cpsScm {
                  scm {
                    git {
                      remote {
                        url '\$GITHUB_URL/\$JENKINS_PIPELINES_PROJ.git'
                        credentials 'BBsvcAccnt'
                      }
                      branch 'master'
                      extensions {}
                    }
                  }
                  scriptPath 'devops/jenkins-lighthouse.groovy'
                }
              }
              logRotator {
                numToKeep(30)
                artifactNumToKeep(30)
              }
            }